

def bfs(adj, s):
    q = adj
    while()
    
    

#omega lg lg n 
def max_permutations(M):
    antall = len(M)
    favplass = {} # plass -> person
    for i in range(antall):
        if(M[i] not in favplass):
            favplass[M[i]] = []
        favplass[M[i]].append(i)
        
    res = set()
    for i in favplass:
        bfs(favplass)
        
    
        
    
    
